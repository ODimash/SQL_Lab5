# Лабораторная работа №5: Система безопасности Microsoft SQL Server
---

### Автор: Динмухамед Османов Нургалиулы
### Группа: ВТИПО-35, 3 курс
---
## Описание проекта

Данная лабораторная работа направлена на изучение системы безопасности Microsoft SQL Server, управление учетными записями и правами пользователей. В рамках лабораторной работы выполнены задачи по созданию учетных записей, назначению ролей, управлению правами на просмотр и изменение данных в базе данных AdventureWorks2008.

## Задачи лабораторной работы:

1. **Определить список всех ролей сервера и действия, разрешенные пользователям роли `dbcreator`.**
2. **Установить, какая серверная роль присвоена системной учетной записи `sa`.**
3. **Определить, пользователь какой роли имеет возможность создания и удаления учетных записей для входа.**
4. **Изменить пароль учетной записи пользователя для входа с помощью процедуры `sp_password`.**
5. **Создать собственную учетную запись для входа и подключение к базе данных AdventureWorks2008.**
   Присвоить учетной записи права на создание и изменение баз данных, и создать новую учетную запись пользователя для входа.
6. **Создать пользователя `manager` в базе данных AdventureWorks2008.**
   Присвоить пользователю роль, обладающую правом только на просмотр данных.
7. **Запретить пользователю `manager` просмотр данных, присвоив необходимые роли.**
8. **Создать учетную запись пользователя для входа на основе аутентификации SQL и подключить к роли `diskadmin`.**
9. **Создать роль `managers` с правом выборки данных из таблицы `Production.Product` и присвоить эту роль пользователю.**

## Файлы проекта

В проекте представлены SQL-скрипты для выполнения каждой задачи лабораторной работы:

- `01_roles_and_dbcreator.sql`: Определение ролей и прав роли `dbcreator`.
- `02_sa_role.sql`: Проверка ролей системной учетной записи `sa`.
- `03_role_with_login_permissions.sql`: Определение роли с правами на создание и удаление учетных записей для входа.
- `04_change_password.sql`: Изменение пароля для учетной записи.
- `05_create_login_and_grant_permissions.sql`: Создание учетной записи и предоставление прав на создание баз данных.
- `06_create_manager_user.sql`: Создание пользователя `manager`.
- `07_grant_select_to_manager.sql`: Предоставление пользователю `manager` прав на просмотр данных.
- `08_revoke_select_from_manager.sql`: Запрет прав на просмотр данных для пользователя `manager`.
- `09_user_login_relationship.sql`: Описание возможностей создания нескольких пользователей на основе одного логина.
- `10_create_login_ssms.sql`: Создание логина через интерфейс SSMS.
- `11_diskadmin_role.sql`: Определение пользователей роли `diskadmin`.
- `12_create_db_user.sql`: Создание пользователя в базе данных на основе логина.
- `13_check_user_role.sql`: Определение роли пользователя и проверка прав на выборку данных.
- `14_create_managers_role.sql`: Создание роли `managers` и предоставление прав на выборку данных.

## Скриншоты выполнения

Каждый SQL-скрипт был протестирован и сопровождается скриншотами выполнения, которые можно найти в директории `screenshots/`.

## Как использовать проект

1. Склонируйте репозиторий:
   ```bash
   git clone https://github.com/your-username/sql-lab5.git
   ```
2. Откройте SQL Server Management Studio (SSMS).
3. Выполните SQL-скрипты для выполнения задач лабораторной работы.
